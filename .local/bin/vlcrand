#!/usr/bin/env bash
# Usage: ./playrand <path> <file_pattern> [number]

set -euo pipefail

if [ $# -lt 1 ]; then
  echo "Usage: $0 <path> <file_pattern> [number]"
  exit 1
fi

path="$1"
number="${2:-}"   # optional

if [[ -n "$number" ]]; then
  find "$path" -type f -name "*.mp4" \
    | shuf \
    | head -n "$number" \
    | xargs -d '\n' vlc
else
  find "$path" -type f -name "*.mp4" \
    | shuf \
    | xargs -d '\n' vlc
fi
