#!/usr/bin/env bash
# Usage: ./mvrand <path> <file_pattern> <destination> [number]

set -euo pipefail

if [ $# -lt 2 ]; then
  echo "Usage: $0 <path> <destination> [number]"
  exit 1
fi

path="$1"
dest="$2"
number="${3:-}"   # optional

if [[ -n "$number" ]]; then
  find "$path" -type f -name "*.mp4" \
    | shuf \
    | head -n "$number" \
    | xargs -d '\n' mv -t "$dest"
else
  find "$path" -type f -name "*.mp4" \
    | shuf \
    | xargs -d '\n' mv -t "$dest"
fi
